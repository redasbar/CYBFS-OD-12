{% extends "base.html" %}

{% block title %}Inscription - LibraTech Bookstore{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h1>Créer un compte</h1>
            <p>Rejoignez LibraTech pour une meilleure expérience</p>
        </div>
        
        <form method="POST" action="{{ url_for('register') }}" class="auth-form" id="registerForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="first_name">Prénom</label>
                    <div class="input-with-icon">
                        <i class="fas fa-user"></i>
                        <input type="text" id="first_name" name="first_name" placeholder="John" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="last_name">Nom</label>
                    <div class="input-with-icon">
                        <i class="fas fa-user"></i>
                        <input type="text" id="last_name" name="last_name" placeholder="Doe" required>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="email">Adresse email</label>
                <div class="input-with-icon">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" name="email" placeholder="vous@exemple.com" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="password">Mot de passe</label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" name="password" placeholder="Créez un mot de passe" required>
                    <button type="button" class="toggle-password" data-target="password">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                
                <!-- Password strength indicator -->
                <div class="password-strength">
                    <div class="strength-bar"></div>
                    <span class="strength-text">Force du mot de passe: <span id="strengthValue">Faible</span></span>
                </div>
                
                <!-- Password requirements list 
                <div class="password-requirements">
                    <small>Le mot de passe doit contenir:</small>
                    <ul>
                        <li id="req-length" class="requirement-invalid">
                            <i class="fas fa-times"></i> Au moins 8 caractères
                        </li>
                        <li id="req-uppercase" class="requirement-invalid">
                            <i class="fas fa-times"></i> Une lettre majuscule
                        </li>
                        <li id="req-lowercase" class="requirement-invalid">
                            <i class="fas fa-times"></i> Une lettre minuscule
                        </li>
                        <li id="req-number" class="requirement-invalid">
                            <i class="fas fa-times"></i> Un chiffre
                        </li>
                        <li id="req-special" class="requirement-invalid">
                            <i class="fas fa-times"></i> Un caractère spécial (!@#$%^&*)
                        </li>
                    </ul>
                </div>-->
            </div>
            
            <div class="form-group">
                <label for="confirm_password">Confirmer le mot de passe</label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="confirm_password" name="confirm_password" 
                           placeholder="Confirmez votre mot de passe" required>
                    <button type="button" class="toggle-password" data-target="confirm_password">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                
                <!-- Password match indicators -->
                <div id="passwordMatch" class="password-match-indicator" style="display: none;">
                    <small><i class="fas fa-check-circle"></i> Les mots de passe correspondent</small>
                </div>
                <div id="passwordMismatch" class="password-mismatch-indicator" style="display: none;">
                    <small><i class="fas fa-times-circle"></i> Les mots de passe ne correspondent pas</small>
                </div>
            </div>
            
            <div class="form-options">
                <label class="checkbox-label">
                    <input type="checkbox" name="newsletter" checked>
                    <span>S'inscrire à la newsletter</span>
                </label>
                
                <label class="checkbox-label terms">
                    <input type="checkbox" name="terms" id="termsCheckbox" required>
                    <span>J'accepte les <a href="#" target="_blank">CGU</a> et la <a href="#" target="_blank">Politique de confidentialité</a></span>
                </label>
            </div>
            
            <button type="submit" class="btn btn-primary btn-auth" id="registerBtn" disabled>
                Créer le compte
            </button>
            
            <div class="auth-divider">
                <span>ou s'inscrire avec</span>
            </div>
            
            <div class="social-auth">
                <button type="button" class="btn-social google">
                    <i class="fab fa-google"></i> Google
                </button>
                <button type="button" class="btn-social facebook">
                    <i class="fab fa-facebook-f"></i> Facebook
                </button>
            </div>
        </form>
        
        <div class="auth-footer">
            <p>Déjà un compte ? <a href="{{ url_for('login') }}">Connectez-vous ici</a></p>
        </div>
    </div>
    
    <div class="auth-sidebar">
        <div class="sidebar-content">
            <h2>Avantages</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Paiement rapide</h3>
                    <p>Enregistrez vos informations pour payer plus vite</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>Suivi des commandes</h3>
                    <p>Suivez toutes vos commandes au même endroit</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Listes de souhaits</h3>
                    <p>Sauvegardez vos livres préférés</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h3>Offres exclusives</h3>
                    <p>Réductions et accès anticipé réservés aux membres</p>
                </div>
            </div>
            
            <div class="testimonial">
                <p class="quote">"LibraTech a la meilleure sélection de littérature française. En tant que membre, je reçois des recommandations personnalisées !"</p>
                <p class="author">- Marie L., Paris</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
<script>
    // Add minimal inline JS for password validation if needed, or extend auth.js
    // This can be moved to auth.js for better organization
</script>
{% endblock %}